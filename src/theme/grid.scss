*,
*::before,
*::after {
  box-sizing: border-box;
}

// Breakpoints
$breakpoint-xs: 0;
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;
$breakpoint-xxl: 1400px;

// Container max-widths
$container-max-widths: (
  sm: 540px,
  md: 720px,
  lg: 960px,
  xl: 1140px,
  xxl: 1320px
);

// Gutters
$gutter-width: 1rem;
$gutter-x: $gutter-width;
$gutter-y: 0;

// Grid columns
$grid-columns: 12;

// ============================================
// Container
// ============================================
.container,
.container-fluid,
.container-sm,
.container-md,
.container-lg,
.container-xl,
.container-xxl {
  width: 100%;
  padding-right: calc($gutter-x * 0.5);
  // padding-left: calc($gutter-x * 0.5);
  margin-right: auto;
  margin-left: auto;
}

@media (min-width: $breakpoint-sm) {
  .container,
  .container-sm {
    max-width: map-get($container-max-widths, sm);
  }
}

@media (min-width: $breakpoint-md) {
  .container,
  .container-sm,
  .container-md {
    max-width: map-get($container-max-widths, md);
  }
}

@media (min-width: $breakpoint-lg) {
  .container,
  .container-sm,
  .container-md,
  .container-lg {
    max-width: map-get($container-max-widths, lg);
  }
}

@media (min-width: $breakpoint-xl) {
  .container,
  .container-sm,
  .container-md,
  .container-lg,
  .container-xl {
    max-width: map-get($container-max-widths, xl);
  }
}

@media (min-width: $breakpoint-xxl) {
  .container,
  .container-sm,
  .container-md,
  .container-lg,
  .container-xl,
  .container-xxl {
    max-width: map-get($container-max-widths, xxl);
  }
}

// ============================================
// Row
// ============================================
.row {
  display: flex;
  flex-wrap: wrap;
  margin-right: calc($gutter-x * -0.5);
  margin-left: calc($gutter-x * -0.5);
  margin-top: calc($gutter-y * -1);

  > * {
    flex-shrink: 0;
    width: 100%;
    max-width: 100%;
    padding-right: calc($gutter-x * 0.5);
    padding-left: calc($gutter-x * 0.5);
    margin-top: $gutter-y;
  }
}

// No gutters
.g-0,
.gx-0 {
  --gutter-x: 0;
}

.g-0,
.gy-0 {
  --gutter-y: 0;
}

// Gutter sizes (1-5)
@for $i from 1 through 5 {
  .g-#{$i} {
    --gutter-x: #{$i * 0.25rem};
    --gutter-y: #{$i * 0.25rem};
  }
  
  .gx-#{$i} {
    --gutter-x: #{$i * 0.25rem};
  }
  
  .gy-#{$i} {
    --gutter-y: #{$i * 0.25rem};
  }
}

// ============================================
// Columns - Base
// ============================================
.col {
  flex: 1 0 0%;
  padding-right: calc($gutter-x * 0.5);
  padding-left: calc($gutter-x * 0.5);
}

.col-auto {
  flex: 0 0 auto;
  width: auto;
  padding-right: calc($gutter-x * 0.5);
  padding-left: calc($gutter-x * 0.5);
}

// ============================================
// Mixin for generating columns
// ============================================
@mixin make-col($size, $columns: $grid-columns) {
  flex: 0 0 auto;
  width: percentage($size / $columns);
  padding-right: calc($gutter-x * 0.5);
  padding-left: calc($gutter-x * 0.5);
}

@mixin make-grid-columns($columns: $grid-columns, $breakpoint: "") {
  @if $breakpoint == "" {
    // Base columns (xs)
    @for $i from 1 through $columns {
      .col-#{$i} {
        @include make-col($i, $columns);
      }
    }
  } @else {
    // Responsive columns
    @for $i from 1 through $columns {
      .col-#{$breakpoint}-#{$i} {
        @include make-col($i, $columns);
      }
    }
    
    .col-#{$breakpoint} {
      flex: 1 0 0%;
    }
    
    .col-#{$breakpoint}-auto {
      flex: 0 0 auto;
      width: auto;
    }
  }
}

// ============================================
// Generate all column classes
// ============================================

// Base (xs) - no media query
@include make-grid-columns($grid-columns);

// Small devices
@media (min-width: $breakpoint-sm) {
  @include make-grid-columns($grid-columns, "sm");
}

// Medium devices
@media (min-width: $breakpoint-md) {
  @include make-grid-columns($grid-columns, "md");
}

// Large devices
@media (min-width: $breakpoint-lg) {
  @include make-grid-columns($grid-columns, "lg");
}

// Extra large devices
@media (min-width: $breakpoint-xl) {
  @include make-grid-columns($grid-columns, "xl");
}

// Extra extra large devices
@media (min-width: $breakpoint-xxl) {
  @include make-grid-columns($grid-columns, "xxl");
}

// ============================================
// Offset columns
// ============================================
@mixin make-offset($size, $columns: $grid-columns) {
  $num: $size / $columns;
  margin-left: if($num == 0, 0, percentage($num));
}

// Base offsets
@for $i from 0 through ($grid-columns - 1) {
  .offset-#{$i} {
    @include make-offset($i);
  }
}

// Responsive offsets
@each $breakpoint in (sm, md, lg, xl, xxl) {
  $infix: "-#{$breakpoint}";
  
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) {
      @for $i from 0 through ($grid-columns - 1) {
        .offset#{$infix}-#{$i} {
          @include make-offset($i);
        }
      }
    }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) {
      @for $i from 0 through ($grid-columns - 1) {
        .offset#{$infix}-#{$i} {
          @include make-offset($i);
        }
      }
    }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) {
      @for $i from 0 through ($grid-columns - 1) {
        .offset#{$infix}-#{$i} {
          @include make-offset($i);
        }
      }
    }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) {
      @for $i from 0 through ($grid-columns - 1) {
        .offset#{$infix}-#{$i} {
          @include make-offset($i);
        }
      }
    }
  } @else if $breakpoint == xxl {
    @media (min-width: $breakpoint-xxl) {
      @for $i from 0 through ($grid-columns - 1) {
        .offset#{$infix}-#{$i} {
          @include make-offset($i);
        }
      }
    }
  }
}

// ============================================
// Flex utilities
// ============================================

// Justify content
.justify-content-start { justify-content: flex-start !important; }
.justify-content-end { justify-content: flex-end !important; }
.justify-content-center { justify-content: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-around { justify-content: space-around !important; }
.justify-content-evenly { justify-content: space-evenly !important; }

// Align items
.align-items-start { align-items: flex-start !important; }
.align-items-end { align-items: flex-end !important; }
.align-items-center { align-items: center !important; }
.align-items-baseline { align-items: baseline !important; }
.align-items-stretch { align-items: stretch !important; }

// Align self
.align-self-auto { align-self: auto !important; }
.align-self-start { align-self: flex-start !important; }
.align-self-end { align-self: flex-end !important; }
.align-self-center { align-self: center !important; }
.align-self-baseline { align-self: baseline !important; }
.align-self-stretch { align-self: stretch !important; }

// Align content
.align-content-start { align-content: flex-start !important; }
.align-content-end { align-content: flex-end !important; }
.align-content-center { align-content: center !important; }
.align-content-between { align-content: space-between !important; }
.align-content-around { align-content: space-around !important; }
.align-content-stretch { align-content: stretch !important; }

// Flex direction
.flex-row { flex-direction: row !important; }
.flex-column { flex-direction: column !important; }
.flex-row-reverse { flex-direction: row-reverse !important; }
.flex-column-reverse { flex-direction: column-reverse !important; }

// Flex wrap
.flex-wrap { flex-wrap: wrap !important; }
.flex-nowrap { flex-wrap: nowrap !important; }
.flex-wrap-reverse { flex-wrap: wrap-reverse !important; }

// Flex fill
.flex-fill { flex: 1 1 auto !important; }

// Flex grow and shrink
.flex-grow-0 { flex-grow: 0 !important; }
.flex-grow-1 { flex-grow: 1 !important; }
.flex-shrink-0 { flex-shrink: 0 !important; }
.flex-shrink-1 { flex-shrink: 1 !important; }

// ============================================
// Order utilities
// ============================================
.order-first { order: -1 !important; }
.order-last { order: 13 !important; }

@for $i from 0 through 12 {
  .order-#{$i} { order: $i !important; }
}

// Responsive order
@each $breakpoint in (sm, md, lg, xl, xxl) {
  $infix: "-#{$breakpoint}";
  
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) {
      .order#{$infix}-first { order: -1 !important; }
      .order#{$infix}-last { order: 13 !important; }
      @for $i from 0 through 12 {
        .order#{$infix}-#{$i} { order: $i !important; }
      }
    }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) {
      .order#{$infix}-first { order: -1 !important; }
      .order#{$infix}-last { order: 13 !important; }
      @for $i from 0 through 12 {
        .order#{$infix}-#{$i} { order: $i !important; }
      }
    }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) {
      .order#{$infix}-first { order: -1 !important; }
      .order#{$infix}-last { order: 13 !important; }
      @for $i from 0 through 12 {
        .order#{$infix}-#{$i} { order: $i !important; }
      }
    }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) {
      .order#{$infix}-first { order: -1 !important; }
      .order#{$infix}-last { order: 13 !important; }
      @for $i from 0 through 12 {
        .order#{$infix}-#{$i} { order: $i !important; }
      }
    }
  } @else if $breakpoint == xxl {
    @media (min-width: $breakpoint-xxl) {
      .order#{$infix}-first { order: -1 !important; }
      .order#{$infix}-last { order: 13 !important; }
      @for $i from 0 through 12 {
        .order#{$infix}-#{$i} { order: $i !important; }
      }
    }
  }
}

// ============================================
// Display utilities
// ============================================
.d-none { display: none !important; }
.d-inline { display: inline !important; }
.d-inline-block { display: inline-block !important; }
.d-block { display: block !important; }
.d-grid { display: grid !important; }
.d-table { display: table !important; }
.d-table-row { display: table-row !important; }
.d-table-cell { display: table-cell !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }

// Responsive display
@each $breakpoint in (sm, md, lg, xl, xxl) {
  $infix: "-#{$breakpoint}";
  
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) {
      .d#{$infix}-none { display: none !important; }
      .d#{$infix}-inline { display: inline !important; }
      .d#{$infix}-inline-block { display: inline-block !important; }
      .d#{$infix}-block { display: block !important; }
      .d#{$infix}-grid { display: grid !important; }
      .d#{$infix}-table { display: table !important; }
      .d#{$infix}-table-row { display: table-row !important; }
      .d#{$infix}-table-cell { display: table-cell !important; }
      .d#{$infix}-flex { display: flex !important; }
      .d#{$infix}-inline-flex { display: inline-flex !important; }
    }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) {
      .d#{$infix}-none { display: none !important; }
      .d#{$infix}-inline { display: inline !important; }
      .d#{$infix}-inline-block { display: inline-block !important; }
      .d#{$infix}-block { display: block !important; }
      .d#{$infix}-grid { display: grid !important; }
      .d#{$infix}-table { display: table !important; }
      .d#{$infix}-table-row { display: table-row !important; }
      .d#{$infix}-table-cell { display: table-cell !important; }
      .d#{$infix}-flex { display: flex !important; }
      .d#{$infix}-inline-flex { display: inline-flex !important; }
    }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) {
      .d#{$infix}-none { display: none !important; }
      .d#{$infix}-inline { display: inline !important; }
      .d#{$infix}-inline-block { display: inline-block !important; }
      .d#{$infix}-block { display: block !important; }
      .d#{$infix}-grid { display: grid !important; }
      .d#{$infix}-table { display: table !important; }
      .d#{$infix}-table-row { display: table-row !important; }
      .d#{$infix}-table-cell { display: table-cell !important; }
      .d#{$infix}-flex { display: flex !important; }
      .d#{$infix}-inline-flex { display: inline-flex !important; }
    }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) {
      .d#{$infix}-none { display: none !important; }
      .d#{$infix}-inline { display: inline !important; }
      .d#{$infix}-inline-block { display: inline-block !important; }
      .d#{$infix}-block { display: block !important; }
      .d#{$infix}-grid { display: grid !important; }
      .d#{$infix}-table { display: table !important; }
      .d#{$infix}-table-row { display: table-row !important; }
      .d#{$infix}-table-cell { display: table-cell !important; }
      .d#{$infix}-flex { display: flex !important; }
      .d#{$infix}-inline-flex { display: inline-flex !important; }
    }
  } @else if $breakpoint == xxl {
    @media (min-width: $breakpoint-xxl) {
      .d#{$infix}-none { display: none !important; }
      .d#{$infix}-inline { display: inline !important; }
      .d#{$infix}-inline-block { display: inline-block !important; }
      .d#{$infix}-block { display: block !important; }
      .d#{$infix}-grid { display: grid !important; }
      .d#{$infix}-table { display: table !important; }
      .d#{$infix}-table-row { display: table-row !important; }
      .d#{$infix}-table-cell { display: table-cell !important; }
      .d#{$infix}-flex { display: flex !important; }
      .d#{$infix}-inline-flex { display: inline-flex !important; }
    }
  }
}

// ============================================
// Spacing utilities (margin and padding)
// ============================================
$spacer: 1rem;
$spacers: (
  0: 0,
  1: $spacer * 0.25,
  2: $spacer * 0.5,
  3: $spacer,
  4: $spacer * 1.5,
  5: $spacer * 3,
);

@each $prop, $abbrev in (margin: m, padding: p) {
  @each $size, $length in $spacers {
    .#{$abbrev}-#{$size} { #{$prop}: $length !important; }
    .#{$abbrev}t-#{$size},
    .#{$abbrev}y-#{$size} { #{$prop}-top: $length !important; }
    .#{$abbrev}r-#{$size},
    .#{$abbrev}x-#{$size} { #{$prop}-right: $length !important; }
    .#{$abbrev}b-#{$size},
    .#{$abbrev}y-#{$size} { #{$prop}-bottom: $length !important; }
    .#{$abbrev}l-#{$size},
    .#{$abbrev}x-#{$size} { #{$prop}-left: $length !important; }
  }
}

// Auto margins
.m-auto { margin: auto !important; }
.mt-auto,
.my-auto { margin-top: auto !important; }
.mr-auto,
.mx-auto { margin-right: auto !important; }
.mb-auto,
.my-auto { margin-bottom: auto !important; }
.ml-auto,
.mx-auto { margin-left: auto !important; }

// ============================================
// Width and Height utilities
// ============================================
.w-25 { width: 25% !important; }
.w-50 { width: 50% !important; }
.w-75 { width: 75% !important; }
.w-100 { width: 100% !important; }
.w-auto { width: auto !important; }

.h-25 { height: 25% !important; }
.h-50 { height: 50% !important; }
.h-75 { height: 75% !important; }
.h-100 { height: 100% !important; }
.h-auto { height: auto !important; }

.mw-100 { max-width: 100% !important; }
.mh-100 { max-height: 100% !important; }
.min-vw-100 { min-width: 100vw !important; }
.min-vh-100 { min-height: 100vh !important; }
.vw-100 { width: 100vw !important; }
.vh-100 { height: 100vh !important; }